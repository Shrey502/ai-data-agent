{"ast":null,"code":"var _jsxFileName = \"D:\\\\shreyas\\\\A\\\\ai-data-agent\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(null);\n  const [sql, setSql] = useState(null);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Call backend /ask endpoint with question\n  const askQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    setError(null);\n    setAnswer(null);\n    setSql(null);\n    setData(null);\n    try {\n      const response = await fetch(\"http://localhost:5000/ask\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          question\n        })\n      });\n      if (!response.ok) {\n        const errText = await response.text();\n        throw new Error(`Server error: ${errText}`);\n      }\n      const result = await response.json();\n      if (result.error) {\n        setError(result.error);\n      } else {\n        setAnswer(result.answer);\n        setSql(result.sql);\n        setData(result.data);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Test backend connection at /ping\n  const testBackend = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/ping\");\n      const json = await res.json();\n      alert(`Backend says: ${json.message}`);\n    } catch (err) {\n      alert(\"Failed to connect to backend: \" + err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 800,\n      margin: \"auto\",\n      padding: 20,\n      fontFamily: \"Arial\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"AI Data Agent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: testBackend,\n      style: {\n        marginBottom: 20\n      },\n      children: \"Test Backend Connection\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      rows: 4,\n      placeholder: \"Type your business question here...\",\n      value: question,\n      onChange: e => setQuestion(e.target.value),\n      style: {\n        width: \"100%\",\n        padding: 10,\n        fontSize: 16\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: askQuestion,\n      disabled: loading,\n      style: {\n        marginTop: 10,\n        padding: \"10px 20px\"\n      },\n      children: loading ? \"Thinking...\" : \"Ask\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\",\n        marginTop: 20\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this), sql && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Generated SQL Query:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          background: \"#f0f0f0\",\n          padding: 10,\n          borderRadius: 5\n        },\n        children: sql\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), answer && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Answer:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: answer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), data && data.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: \"100%\",\n          borderCollapse: \"collapse\",\n          marginTop: 10,\n          border: \"1px solid #ccc\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: Object.keys(data[0]).map(col => /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: 8,\n                backgroundColor: \"#eee\",\n                textAlign: \"left\"\n              },\n              children: col\n            }, col, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: Object.values(row).map((val, i) => /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: 8\n              },\n              children: val === null || val === void 0 ? void 0 : val.toString()\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 21\n            }, this))\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PrSkGUaJ9/1y6JTUSbYpMjAjVkQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","question","setQuestion","answer","setAnswer","sql","setSql","data","setData","loading","setLoading","error","setError","askQuestion","trim","response","fetch","method","headers","body","JSON","stringify","ok","errText","text","Error","result","json","err","message","testBackend","res","alert","style","maxWidth","margin","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginBottom","rows","placeholder","value","onChange","e","target","width","fontSize","disabled","marginTop","color","background","borderRadius","length","borderCollapse","border","Object","keys","map","col","backgroundColor","textAlign","row","idx","values","val","i","toString","_c","$RefreshReg$"],"sources":["D:/shreyas/A/ai-data-agent/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction App() {\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(null);\n  const [sql, setSql] = useState(null);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Call backend /ask endpoint with question\n  const askQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    setError(null);\n    setAnswer(null);\n    setSql(null);\n    setData(null);\n\n    try {\n      const response = await fetch(\"http://localhost:5000/ask\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ question }),\n      });\n\n      if (!response.ok) {\n        const errText = await response.text();\n        throw new Error(`Server error: ${errText}`);\n      }\n\n      const result = await response.json();\n\n      if (result.error) {\n        setError(result.error);\n      } else {\n        setAnswer(result.answer);\n        setSql(result.sql);\n        setData(result.data);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Test backend connection at /ping\n  const testBackend = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/ping\");\n      const json = await res.json();\n      alert(`Backend says: ${json.message}`);\n    } catch (err) {\n      alert(\"Failed to connect to backend: \" + err.message);\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 800, margin: \"auto\", padding: 20, fontFamily: \"Arial\" }}>\n      <h1>AI Data Agent</h1>\n\n      <button onClick={testBackend} style={{ marginBottom: 20 }}>\n        Test Backend Connection\n      </button>\n\n      <textarea\n        rows={4}\n        placeholder=\"Type your business question here...\"\n        value={question}\n        onChange={(e) => setQuestion(e.target.value)}\n        style={{ width: \"100%\", padding: 10, fontSize: 16 }}\n      />\n\n      <button onClick={askQuestion} disabled={loading} style={{ marginTop: 10, padding: \"10px 20px\" }}>\n        {loading ? \"Thinking...\" : \"Ask\"}\n      </button>\n\n      {error && <p style={{ color: \"red\", marginTop: 20 }}>Error: {error}</p>}\n\n      {sql && (\n        <>\n          <h3>Generated SQL Query:</h3>\n          <pre style={{ background: \"#f0f0f0\", padding: 10, borderRadius: 5 }}>{sql}</pre>\n        </>\n      )}\n\n      {answer && (\n        <>\n          <h3>Answer:</h3>\n          <p>{answer}</p>\n        </>\n      )}\n\n      {data && data.length > 0 && (\n        <>\n          <h3>Data:</h3>\n          <table\n            style={{\n              width: \"100%\",\n              borderCollapse: \"collapse\",\n              marginTop: 10,\n              border: \"1px solid #ccc\",\n            }}\n          >\n            <thead>\n              <tr>\n                {Object.keys(data[0]).map((col) => (\n                  <th\n                    key={col}\n                    style={{\n                      border: \"1px solid #ccc\",\n                      padding: 8,\n                      backgroundColor: \"#eee\",\n                      textAlign: \"left\",\n                    }}\n                  >\n                    {col}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((row, idx) => (\n                <tr key={idx}>\n                  {Object.values(row).map((val, i) => (\n                    <td key={i} style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                      {val?.toString()}\n                    </td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAExC,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACW,GAAG,EAAEC,MAAM,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMmB,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI,CAACZ,QAAQ,CAACa,IAAI,CAAC,CAAC,EAAE;IACtBJ,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACdR,SAAS,CAAC,IAAI,CAAC;IACfE,MAAM,CAAC,IAAI,CAAC;IACZE,OAAO,CAAC,IAAI,CAAC;IAEb,IAAI;MACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,2BAA2B,EAAE;QACxDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEpB;QAAS,CAAC;MACnC,CAAC,CAAC;MAEF,IAAI,CAACc,QAAQ,CAACO,EAAE,EAAE;QAChB,MAAMC,OAAO,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QACrC,MAAM,IAAIC,KAAK,CAAC,iBAAiBF,OAAO,EAAE,CAAC;MAC7C;MAEA,MAAMG,MAAM,GAAG,MAAMX,QAAQ,CAACY,IAAI,CAAC,CAAC;MAEpC,IAAID,MAAM,CAACf,KAAK,EAAE;QAChBC,QAAQ,CAACc,MAAM,CAACf,KAAK,CAAC;MACxB,CAAC,MAAM;QACLP,SAAS,CAACsB,MAAM,CAACvB,MAAM,CAAC;QACxBG,MAAM,CAACoB,MAAM,CAACrB,GAAG,CAAC;QAClBG,OAAO,CAACkB,MAAM,CAACnB,IAAI,CAAC;MACtB;IACF,CAAC,CAAC,OAAOqB,GAAG,EAAE;MACZhB,QAAQ,CAACgB,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,SAAS;MACRnB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACA,MAAMoB,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAAC,4BAA4B,CAAC;MACrD,MAAMW,IAAI,GAAG,MAAMI,GAAG,CAACJ,IAAI,CAAC,CAAC;MAC7BK,KAAK,CAAC,iBAAiBL,IAAI,CAACE,OAAO,EAAE,CAAC;IACxC,CAAC,CAAC,OAAOD,GAAG,EAAE;MACZI,KAAK,CAAC,gCAAgC,GAAGJ,GAAG,CAACC,OAAO,CAAC;IACvD;EACF,CAAC;EAED,oBACEjC,OAAA;IAAKqC,KAAK,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,MAAM,EAAE,MAAM;MAAEC,OAAO,EAAE,EAAE;MAAEC,UAAU,EAAE;IAAQ,CAAE;IAAAC,QAAA,gBAC9E1C,OAAA;MAAA0C,QAAA,EAAI;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEtB9C,OAAA;MAAQ+C,OAAO,EAAEb,WAAY;MAACG,KAAK,EAAE;QAAEW,YAAY,EAAE;MAAG,CAAE;MAAAN,QAAA,EAAC;IAE3D;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAET9C,OAAA;MACEiD,IAAI,EAAE,CAAE;MACRC,WAAW,EAAC,qCAAqC;MACjDC,KAAK,EAAE9C,QAAS;MAChB+C,QAAQ,EAAGC,CAAC,IAAK/C,WAAW,CAAC+C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC7Cd,KAAK,EAAE;QAAEkB,KAAK,EAAE,MAAM;QAAEf,OAAO,EAAE,EAAE;QAAEgB,QAAQ,EAAE;MAAG;IAAE;MAAAb,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD,CAAC,eAEF9C,OAAA;MAAQ+C,OAAO,EAAE9B,WAAY;MAACwC,QAAQ,EAAE5C,OAAQ;MAACwB,KAAK,EAAE;QAAEqB,SAAS,EAAE,EAAE;QAAElB,OAAO,EAAE;MAAY,CAAE;MAAAE,QAAA,EAC7F7B,OAAO,GAAG,aAAa,GAAG;IAAK;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,EAER/B,KAAK,iBAAIf,OAAA;MAAGqC,KAAK,EAAE;QAAEsB,KAAK,EAAE,KAAK;QAAED,SAAS,EAAE;MAAG,CAAE;MAAAhB,QAAA,GAAC,SAAO,EAAC3B,KAAK;IAAA;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEtErC,GAAG,iBACFT,OAAA,CAAAE,SAAA;MAAAwC,QAAA,gBACE1C,OAAA;QAAA0C,QAAA,EAAI;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7B9C,OAAA;QAAKqC,KAAK,EAAE;UAAEuB,UAAU,EAAE,SAAS;UAAEpB,OAAO,EAAE,EAAE;UAAEqB,YAAY,EAAE;QAAE,CAAE;QAAAnB,QAAA,EAAEjC;MAAG;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA,eAChF,CACH,EAEAvC,MAAM,iBACLP,OAAA,CAAAE,SAAA;MAAAwC,QAAA,gBACE1C,OAAA;QAAA0C,QAAA,EAAI;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChB9C,OAAA;QAAA0C,QAAA,EAAInC;MAAM;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA,eACf,CACH,EAEAnC,IAAI,IAAIA,IAAI,CAACmD,MAAM,GAAG,CAAC,iBACtB9D,OAAA,CAAAE,SAAA;MAAAwC,QAAA,gBACE1C,OAAA;QAAA0C,QAAA,EAAI;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACd9C,OAAA;QACEqC,KAAK,EAAE;UACLkB,KAAK,EAAE,MAAM;UACbQ,cAAc,EAAE,UAAU;UAC1BL,SAAS,EAAE,EAAE;UACbM,MAAM,EAAE;QACV,CAAE;QAAAtB,QAAA,gBAEF1C,OAAA;UAAA0C,QAAA,eACE1C,OAAA;YAAA0C,QAAA,EACGuB,MAAM,CAACC,IAAI,CAACvD,IAAI,CAAC,CAAC,CAAC,CAAC,CAACwD,GAAG,CAAEC,GAAG,iBAC5BpE,OAAA;cAEEqC,KAAK,EAAE;gBACL2B,MAAM,EAAE,gBAAgB;gBACxBxB,OAAO,EAAE,CAAC;gBACV6B,eAAe,EAAE,MAAM;gBACvBC,SAAS,EAAE;cACb,CAAE;cAAA5B,QAAA,EAED0B;YAAG,GARCA,GAAG;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OASN,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR9C,OAAA;UAAA0C,QAAA,EACG/B,IAAI,CAACwD,GAAG,CAAC,CAACI,GAAG,EAAEC,GAAG,kBACjBxE,OAAA;YAAA0C,QAAA,EACGuB,MAAM,CAACQ,MAAM,CAACF,GAAG,CAAC,CAACJ,GAAG,CAAC,CAACO,GAAG,EAAEC,CAAC,kBAC7B3E,OAAA;cAAYqC,KAAK,EAAE;gBAAE2B,MAAM,EAAE,gBAAgB;gBAAExB,OAAO,EAAE;cAAE,CAAE;cAAAE,QAAA,EACzDgC,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEE,QAAQ,CAAC;YAAC,GADTD,CAAC;cAAAhC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEN,CACL;UAAC,GALK0B,GAAG;YAAA7B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMR,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA,eACR,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC1C,EAAA,CA1IQD,GAAG;AAAA0E,EAAA,GAAH1E,GAAG;AA4IZ,eAAeA,GAAG;AAAC,IAAA0E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}