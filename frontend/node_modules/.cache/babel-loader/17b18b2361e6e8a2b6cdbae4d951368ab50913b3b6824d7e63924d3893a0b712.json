{"ast":null,"code":"var _jsxFileName = \"D:\\\\shreyas\\\\A\\\\ai-data-agent\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _response$data;\n  const [question, setQuestion] = useState('');\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const askQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    try {\n      const res = await axios.post('http://localhost:5000/ask', {\n        question\n      });\n      setResponse(res.data);\n    } catch (err) {\n      setResponse({\n        error: err.message\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Prepare chart data if data exists\n  const chartData = response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.length ? {\n    labels: response.data.map((_, i) => `Row ${i + 1}`),\n    datasets: Object.keys(response.data[0]).map((key, i) => ({\n      label: key,\n      data: response.data.map(row => Number(row[key]) || 0),\n      backgroundColor: `rgba(${i * 50 % 255}, 99, 132, 0.5)`\n    }))\n  } : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"AI Data Agent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      rows: 3,\n      style: {\n        width: '100%'\n      },\n      placeholder: \"Ask a complex business question...\",\n      value: question,\n      onChange: e => setQuestion(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: askQuestion,\n      disabled: loading,\n      style: {\n        marginTop: 10\n      },\n      children: loading ? 'Loading...' : 'Ask'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), response && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: response.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: [\"Error: \", response.error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Generated SQL:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: response.sql\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Answer:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: response.answer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this), chartData && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Data Visualization:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            data: chartData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ShlB5sgJ0q14cksEFfh6KR6aPOE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","Bar","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_response$data","question","setQuestion","response","setResponse","loading","setLoading","askQuestion","trim","res","post","data","err","error","message","chartData","length","labels","map","_","i","datasets","Object","keys","key","label","row","Number","backgroundColor","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","rows","width","placeholder","value","onChange","e","target","onClick","disabled","marginTop","color","sql","answer","_c","$RefreshReg$"],"sources":["D:/shreyas/A/ai-data-agent/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\n\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const askQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    try {\n      const res = await axios.post('http://localhost:5000/ask', { question });\n      setResponse(res.data);\n    } catch (err) {\n      setResponse({ error: err.message });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Prepare chart data if data exists\n  const chartData = response?.data?.length\n    ? {\n        labels: response.data.map((_, i) => `Row ${i + 1}`),\n        datasets: Object.keys(response.data[0]).map((key, i) => ({\n          label: key,\n          data: response.data.map(row => Number(row[key]) || 0),\n          backgroundColor: `rgba(${(i * 50) % 255}, 99, 132, 0.5)`,\n        })),\n      }\n    : null;\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h1>AI Data Agent</h1>\n      <textarea\n        rows={3}\n        style={{ width: '100%' }}\n        placeholder=\"Ask a complex business question...\"\n        value={question}\n        onChange={e => setQuestion(e.target.value)}\n      />\n      <button onClick={askQuestion} disabled={loading} style={{ marginTop: 10 }}>\n        {loading ? 'Loading...' : 'Ask'}\n      </button>\n\n      {response && (\n        <div style={{ marginTop: 20 }}>\n          {response.error ? (\n            <p style={{ color: 'red' }}>Error: {response.error}</p>\n          ) : (\n            <>\n              <h3>Generated SQL:</h3>\n              <pre>{response.sql}</pre>\n\n              <h3>Answer:</h3>\n              <p>{response.answer}</p>\n\n              {chartData && (\n                <>\n                  <h3>Data Visualization:</h3>\n                  <Bar data={chartData} />\n                </>\n              )}\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}