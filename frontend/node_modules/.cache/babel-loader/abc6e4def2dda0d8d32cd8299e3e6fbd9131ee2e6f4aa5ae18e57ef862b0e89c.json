{"ast":null,"code":"var _jsxFileName = \"D:\\\\shreyas\\\\A\\\\ai-data-agent\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(null);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Test backend connection\n  // const testBackend = async () => {\n  //   try {\n  //     const res = await fetch(\"http://localhost:5000/ping\");\n  //     const json = await res.json();\n  //     alert(`Backend says: ${json.message}`);\n  //   } catch (err) {\n  //     alert(\"Failed to connect to backend: \" + err.message);\n  //   }\n  // };\n\n  // Ask question to backend\n  const askQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    setError(null);\n    setAnswer(null);\n    setData(null);\n    try {\n      const response = await fetch(\"http://localhost:5000/ask\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          question\n        })\n      });\n      if (!response.ok) {\n        const errText = await response.text();\n        throw new Error(`Server error: ${errText}`);\n      }\n      const result = await response.json();\n      if (result.error) {\n        setError(result.error);\n      } else {\n        setAnswer(result.answer);\n        setData(result.data);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 800,\n      margin: \"auto\",\n      padding: 20,\n      fontFamily: \"Arial\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"AI Data Agent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      rows: 4,\n      placeholder: \"Type your business question here...\",\n      value: question,\n      onChange: e => setQuestion(e.target.value),\n      style: {\n        width: \"100%\",\n        padding: 10,\n        fontSize: 16\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: askQuestion,\n      disabled: loading,\n      style: {\n        marginTop: 10,\n        padding: \"10px 20px\"\n      },\n      children: loading ? \"Thinking...\" : \"Ask\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\",\n        marginTop: 20\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this), answer && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Answer:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: answer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), data && data.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Data:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: \"100%\",\n          borderCollapse: \"collapse\",\n          marginTop: 10,\n          border: \"1px solid #ccc\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: Object.keys(data[0]).map(col => /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: 8,\n                backgroundColor: \"#eee\",\n                textAlign: \"left\"\n              },\n              children: col\n            }, col, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: Object.values(row).map((val, i) => /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: 8\n              },\n              children: val === null || val === void 0 ? void 0 : val.toString()\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 21\n            }, this))\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"xzBiK4XqatHrJ/fx0vDCMjIvmmE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","question","setQuestion","answer","setAnswer","data","setData","loading","setLoading","error","setError","askQuestion","trim","response","fetch","method","headers","body","JSON","stringify","ok","errText","text","Error","result","json","err","message","style","maxWidth","margin","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","rows","placeholder","value","onChange","e","target","width","fontSize","onClick","disabled","marginTop","color","length","borderCollapse","border","Object","keys","map","col","backgroundColor","textAlign","row","idx","values","val","i","toString","_c","$RefreshReg$"],"sources":["D:/shreyas/A/ai-data-agent/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction App() {\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(null);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Test backend connection\n  // const testBackend = async () => {\n  //   try {\n  //     const res = await fetch(\"http://localhost:5000/ping\");\n  //     const json = await res.json();\n  //     alert(`Backend says: ${json.message}`);\n  //   } catch (err) {\n  //     alert(\"Failed to connect to backend: \" + err.message);\n  //   }\n  // };\n\n  // Ask question to backend\n  const askQuestion = async () => {\n    if (!question.trim()) return;\n    setLoading(true);\n    setError(null);\n    setAnswer(null);\n    setData(null);\n\n    try {\n      const response = await fetch(\"http://localhost:5000/ask\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ question }),\n      });\n\n      if (!response.ok) {\n        const errText = await response.text();\n        throw new Error(`Server error: ${errText}`);\n      }\n\n      const result = await response.json();\n\n      if (result.error) {\n        setError(result.error);\n      } else {\n        setAnswer(result.answer);\n        setData(result.data);\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 800, margin: \"auto\", padding: 20, fontFamily: \"Arial\" }}>\n      <h1>AI Data Agent</h1>\n\n      {/* <button onClick={testBackend} style={{ marginBottom: 20 }}>\n        Test Backend Connection\n      </button> */}\n\n      <textarea\n        rows={4}\n        placeholder=\"Type your business question here...\"\n        value={question}\n        onChange={(e) => setQuestion(e.target.value)}\n        style={{ width: \"100%\", padding: 10, fontSize: 16 }}\n      />\n\n      <button onClick={askQuestion} disabled={loading} style={{ marginTop: 10, padding: \"10px 20px\" }}>\n        {loading ? \"Thinking...\" : \"Ask\"}\n      </button>\n\n      {error && <p style={{ color: \"red\", marginTop: 20 }}>Error: {error}</p>}\n\n      {answer && (\n        <>\n          <h3>Answer:</h3>\n          <p>{answer}</p>\n        </>\n      )}\n\n      {data && data.length > 0 && (\n        <>\n          <h3>Data:</h3>\n          <table\n            style={{\n              width: \"100%\",\n              borderCollapse: \"collapse\",\n              marginTop: 10,\n              border: \"1px solid #ccc\",\n            }}\n          >\n            <thead>\n              <tr>\n                {Object.keys(data[0]).map((col) => (\n                  <th\n                    key={col}\n                    style={{\n                      border: \"1px solid #ccc\",\n                      padding: 8,\n                      backgroundColor: \"#eee\",\n                      textAlign: \"left\",\n                    }}\n                  >\n                    {col}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((row, idx) => (\n                <tr key={idx}>\n                  {Object.values(row).map((val, i) => (\n                    <td key={i} style={{ border: \"1px solid #ccc\", padding: 8 }}>\n                      {val?.toString()}\n                    </td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}